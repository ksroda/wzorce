<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<script src="libraries/jquery-1.11.3.min.js"></script>

	<link rel="stylesheet" href="libraries/bootstrap-3.3.5-dist/css/bootstrap.min.css">
	<script src="libraries/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
	<script src="libraries/angular-1.4.8/angular.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="phaser/phaser.js"></script>
	<script src="phaser/phaser.min.js"></script>
	<!--<script src="https://code.createjs.com/tweenjs-0.6.1.min.js"></script>-->
	<script type="text/javascript">
		var user = <%- JSON.stringify(user) %>;
	</script>
	<script src="javascript/blackjack.js"></script>
	<script src="javascript/top-container.js"></script>
	<link rel="stylesheet" href="stylesheets/top-container.css">
	<link rel="stylesheet" href="stylesheets/blackjack.css">
</head>
<body> 
	<div id="rooms" ng-app="myApp" ng-controller="customersCtrl">
		<div id="output-room">
			<button ng-repeat="x in rooms | orderBy: 'usersNum':true" type="button" class="btn btn-default btn-block roomEnter">
				<span class="singleRoomName">{{ x.name }}</span>
				<span class="badge">{{ x.usersNum }}</span>
			</button>
		</div>
		<div id="input-room" class="row">
			<div id="input-join" class="col-sm-9">
				  <input type="text" class="form-control" id="roomname" placeholder="Enter Room Name">
			</div>
			<div id="submit-join" class="col-sm-3">
				  <button id="create" type="button" class="btn btn-success">Join Room</button>
			</div>
		</div>
	</div>
	<%- include top-container.ejs %>
	<div class="btn-group actionButtons">
		<button id="hit" type="button" class="btn btn-success actionButton">Hit</button>
		<button id="stand" type="button" class="btn btn-success actionButton">Stand</button>
		<button id="double" type="button" class="btn btn-success actionButton">Double</button>
		<button id="split" type="button" class="btn btn-success actionButton">Split</button>
	</div>
	<div class="btn-group betButtons">
		<button id="10" type="button" class="btn btn-success betButton">10</button>
		<button id="25" type="button" class="btn btn-success betButton">25</button>
		<button id="50" type="button" class="btn btn-success betButton">50</button>
		<button id="100" type="button" class="btn btn-success betButton">100</button>
	</div>
	<script>
		var app = angular.module('myApp', []);
		app.controller('customersCtrl', ["$scope", "$http", function($scope, $http) {
				$http.get("/blackjack/rooms").success(function(response) {
						$scope.rooms = response;
					});
					
				$scope.update = function(rooms) {
					$scope.$apply(function() {
						$scope.rooms = rooms;
					});
				}
		}]);
	</script>
</body>
</html>
